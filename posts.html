---
layout: page
title: All Posts
---
{% for post in site.posts %}
  {% capture year_of_current_post %}{{ post.date | date: "%Y" }}{% endcapture %}
  {% capture year_of_previous_post %}{{ post.previous.date | date: "%Y" }}{% endcapture %}

  {% if forloop.first %}
  <div id="{{ year_of_current_post }}"></div>
  <div class="post">
    <h2 class="post-title">{{ year_of_current_post }}</h2>
    <ul>
  {% endif %}
      <li><a href="{{ post.url }}">{{ post.title }}</a></li>

  {% if forloop.last %}
    </ul>
  </div>
  {% else %}
  {% if year_of_current_post != year_of_previous_post %}
    </ul>
  </div>
  <div id="{{ year_of_previous_post }}"></div>
  <div class="post">
    <h2 class="post-title">{{ year_of_previous_post }}</h2>
    <ul>
  {% endif %}
  {% endif %}
{% endfor %}
</div>