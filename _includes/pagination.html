{% if paginator.total_pages > 1 %}
<section class="flex flex-col items-center m-5">
  <span class="text-sm">
      Page <span class="font-semibold">{{page.pagination_info.curr_page}}</span> of <span class="font-semibold">{{page.pagination_info.total_pages}}</span>
  </span>
  <div class="inline-flex mt-2 xs:mt-0">
    {% if paginator.previous_page %}
    <a class="inline-flex items-center px-4 py-2 text-sm font-medium rounded-l theme-colors hover:bg-gray-700 dark:hover:bg-green-200" href="{{ paginator.previous_page_path | relative_url }}">
      <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5 mr-2">
        <path fill-rule="evenodd" d="M18 10a.75.75 0 01-.75.75H4.66l2.1 1.95a.75.75 0 11-1.02 1.1l-3.5-3.25a.75.75 0 010-1.1l3.5-3.25a.75.75 0 111.02 1.1l-2.1 1.95h12.59A.75.75 0 0118 10z" clip-rule="evenodd" />
      </svg>
      Prev
    </a>
    {% endif %}{% if paginator.next_page %}
    <a class="inline-flex items-center px-4 py-2 text-sm font-medium rounded-l highlight hover:bg-gray-700 dark:hover:bg-green-200" href="{{ paginator.next_page_path | relative_url }}">
      Next
      <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5 ml-2">
        <path fill-rule="evenodd" d="M2 10a.75.75 0 01.75-.75h12.59l-2.1-1.95a.75.75 0 111.02-1.1l3.5 3.25a.75.75 0 010 1.1l-3.5 3.25a.75.75 0 11-1.02-1.1l2.1-1.95H2.75A.75.75 0 012 10z" clip-rule="evenodd" />
      </svg>
    </a>
    {% endif %}
  </div>
</section>
{% endif %}

{% if page.book %}
<section class="flex flex-col items-center m-5">
  {% assign book-chapters = site.books | where: 'book', page.book %}
  {% for chapter in book-chapters %}
    {% if chapter.url == page.url %}
      {% assign prev_page_index = forloop.index | minus: 1 %}
      {% assign curr_page_index = forloop.index %}
      {% assign next_page_index = forloop.index | plus: 1 %}
    {% endif %}
  {% endfor %}
  
  <span class="text-sm">
    {% if book-chapters.size > 1 %}Chapter <span class="font-semibold">{{ curr_page_index }}</span> of <span class="font-semibold">{{ book-chapters.size }}</span>
    {% else %}More posts coming soon!{% endif %}
  </span>
  
  {% for chapter in book-chapters %}
  <div class="inline-flex mt-2 xs:mt-0">
    {% if prev_page_index == forloop.index %}
      <a class="inline-flex items-center px-4 py-2 text-sm font-medium rounded-l theme-colors hover:bg-gray-700 dark:hover:bg-green-200" href="{{ chapter.url | relative_url }}">
      <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5 mr-2">
        <path fill-rule="evenodd" d="M18 10a.75.75 0 01-.75.75H4.66l2.1 1.95a.75.75 0 11-1.02 1.1l-3.5-3.25a.75.75 0 010-1.1l3.5-3.25a.75.75 0 111.02 1.1l-2.1 1.95h12.59A.75.75 0 0118 10z" clip-rule="evenodd" />
      </svg>
      Prev
    </a>
    {% endif %}
  
    {% if next_page_index == forloop.index %}
      <a class="inline-flex items-center px-4 py-2 text-sm font-medium rounded-l highlight hover:bg-gray-700 dark:hover:bg-green-200" href="{{ chapter.url | relative_url }}">
      Next
      <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5 ml-2">
        <path fill-rule="evenodd" d="M2 10a.75.75 0 01.75-.75h12.59l-2.1-1.95a.75.75 0 111.02-1.1l3.5 3.25a.75.75 0 010 1.1l-3.5 3.25a.75.75 0 11-1.02-1.1l2.1-1.95H2.75A.75.75 0 012 10z" clip-rule="evenodd" />
      </svg>
    </a>
    {% endif %}
    </div>
  {% endfor %}
</section>
{% endif %}