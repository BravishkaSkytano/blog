---
layout: page
title: Books
---
<section class="not-prose text-center">
  {% for book in site.data.books %}
  {% assign book-chapters = site.books | where: 'book', book.id %}
  {% if book-chapters.size > 0 %}
  <span class="highlight">
    <a href="#{{ book.id }}" class="no-underline" style="font-size: {{ book-chapters.size | times: 4 | plus: 80 }}%">
      {{ book.title }} ({{ book-chapters.size }})
    </a>
  </span>
  {% endif %}
  {% assign book-chapters = nil %}
  {% endfor %}
</section>

<section>
{% for book in site.data.books %}
{% assign book-chapters = site.books | where: 'book', book.id %}
{% if book-chapters.size > 0 %}
  <div id="{{ book.id }}"></div>
  <h2>
    {{ book.title }}
    <small class="highlight">{{ book.start }} - {% if book.end %}{{ book.end }}{% else %}still writing{% endif %}</small>
  </h2>
  {% if book.cover %}
  <img class="w-full h-auto rounded md:w-1/3 md:float-left md:mr-5" src="{{ book.cover | relative_url }}" alt="book cover">
  {% endif %}
  {{ book.description | markdownify }}
  <ul class="clear-both">
    {% for page in book-chapters %}
    <li>
      <a href="{{ page.url | relative_url }}">
        {{ page.title }}
      </a>
    </li>
    {% endfor %}
  </ul>
{% endif %}
{% assign book-chapters = nil %}
{% endfor %}
</section>